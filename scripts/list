#!/bin/bash
# ä½ç½®ãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆé™ã‹ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
echo "ğŸ“‹ ä¿å­˜æ¸ˆã¿ä½ç½®ä¸€è¦§:"

# ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã‚’ä¿å­˜
temp_file="/tmp/cobot_list_output"
ros2 service call /cobot/list std_srvs/srv/Empty > "$temp_file" 2>&1

# ä½ç½®æƒ…å ±ã®ã¿æŠ½å‡ºã—ã¦è¡¨ç¤º
grep -A 10 "ğŸ“‹ ä¿å­˜æ¸ˆã¿ä½ç½®" "$temp_file" | grep -E "  - |ğŸ“‹ ä¿å­˜æ¸ˆã¿ä½ç½® \([0-9]+ä»¶\):" | grep -v "requester\|response"

# ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
rm -f "$temp_file"