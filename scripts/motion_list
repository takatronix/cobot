#!/bin/bash
# ğŸ“‚ Motion list
echo "ğŸ“‚ ä¿å­˜æ¸ˆã¿ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§:"
echo

if [ ! -d ~/cobot/motions ]; then
    echo "âŒ motionsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
    exit 1
fi

cd ~/cobot/motions

if [ -z "$(ls -A . 2>/dev/null)" ]; then
    echo "ğŸ“­ ä¿å­˜ã•ã‚ŒãŸãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã‚ã‚Šã¾ã›ã‚“"
    echo "ä½¿ç”¨æ³•: ./record <motion_name> ã§ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³è¨˜éŒ²"
    exit 0
fi

echo "ç•ªå·  ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å              ã‚µã‚¤ã‚º    æ›´æ–°æ—¥æ™‚"
echo "----  ----------------------  --------  -------------------"

i=1
for file in *.json; do
    if [ -f "$file" ]; then
        name="${file%.json}"
        size=$(ls -lh "$file" | awk '{print $5}')
        date=$(ls -l "$file" | awk '{print $6, $7, $8}')
        printf "%-4d  %-22s  %-8s  %s\n" "$i" "$name" "$size" "$date"
        i=$((i + 1))
    fi
done

echo
echo "å†ç”Ÿ: ./play <motion_name> [speed]"
echo "ä¾‹: ./play test_motion 1.5"